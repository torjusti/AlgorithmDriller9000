Fronter.namespace('Fronter.Util');Fronter.Util.create=function(o){'use strict';function F(){}
F.prototype=o;return new F();};Fronter.Util.build=function(o){'use strict';var args=Array.prototype.slice.call(arguments,1);function F(){if(typeof o.init==='function'){o.init.apply(this,args);}}
F.prototype=o;return new F();};Fronter.Util.generate=function(o){'use strict';var args=arguments;function F(){var prop,i=1,arg;for(prop in o){if(o.hasOwnProperty(prop)){arg=args[i+=1];if(arg!==undefined){this[prop]=arg;}}}}
F.prototype=o;return new F();};Fronter.Util.buildQueryString=function(o){'use strict';var i,v,r=[];for(i in o){if(o.hasOwnProperty(i)){if(typeof o[i]==='object'){v=JSON.stringify(o[i]);}else{v=o[i];}
r.push(encodeURIComponent(i)+'='+ encodeURIComponent(v));}}
if(r.length){return'?'+ r.join('&');}
return'';};Fronter.Util.loadFile=function(type,urls,fn,container){'use strict';var i,u,num,url,node,creator,protocol,onLoad,w=container||window,head=w.document.getElementsByTagName('head')[0],loadProperty='onload',scriptType='application/javascript',browser=Fronter.Util.getBrowser();function onFileLoad(){num-=1;if(typeof fn==='function'&&num===0){fn(u);}}
if(browser[0]==='MSIE'&&(browser[1]==='8.0'||browser[1]==='7.0')){loadProperty='onreadystatechange';scriptType='text/javascript';onLoad=function(){var done=false;return function(){if(!done&&(this.readyState==='complete'||this.readyState==='loaded')){done=true;onFileLoad();}};};}else{onLoad=function(){return onFileLoad;};}
if(type==='Javascript'){creator=function(url,fn){var node=w.document.createElement('script');node[loadProperty]=fn;node.setAttribute('type',scriptType);node.setAttribute('src',url);return node;};}else if(type==='Css'){if(browser[0]==='Chrome'||browser[0]==='Firefox'||browser[0]==='Safari'){creator=function(url,fn){var node=w.document.createElement('link'),img=w.document.createElement('img');node.setAttribute('type','text/css');node.setAttribute('rel','stylesheet');node.setAttribute('href',url);img.onerror=fn;img.setAttribute('src',url);return node;};}else{creator=function(url,fn){var node=w.document.createElement('link');node[loadProperty]=fn;node.setAttribute('type','text/css');node.setAttribute('rel','stylesheet');node.setAttribute('href',url);return node;};}}else{return false;}
if(typeof urls==='string'){u=[urls];}else{u=urls;}
num=u.length;for(i=0;i<u.length;i+=1){if(type==='Javascript'){url=Fronter.Util.Javascript.Loader.load(u[i]);}else if(type==='Css'){url=Fronter.Util.Css.Loader.load(u[i]);}
var regexp=/^((?:http(?:s)?:)?\/\/)[\S]+/i;if(regexp.exec(url)===null){url=Fronter.Util.getCustomerUrl()+'/'+ url;}
node=creator(url,onLoad());head.appendChild(node);}
return true;};Fronter.Util.loadScript=function(urls,fn,container){'use strict';return Fronter.Util.loadFile('Javascript',urls,fn,container);};Fronter.Util.loadCss=function(urls,fn,container){'use strict';return Fronter.Util.loadFile('Css',urls,fn,container);};Fronter.Util.getBrowser=function(){'use strict';var N=navigator.appName,M,ua=navigator.userAgent,tem;M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(M&&(tem=ua.match(/version\/([\.\d]+)/i))!==null){M[2]=tem[1];}
M=M?[M[1],M[2]]:[N,navigator.appVersion,'-?'];return M;};Fronter.Util.getCustomerUrl=function(){'use strict';var name;if(Fronter.Util.Config){return Fronter.Util.Config.get('customerUrl');}
name=window.location.pathname.slice(1).split('/').shift();return window.location.protocol+'//'+ window.location.host+'/'+ name;};Fronter.Util.getUserPersonalRoom=function(){'use strict';if(Fronter.Util.Config){return Fronter.Util.Config.get('userPersonalRoom');}};Fronter.Util.parseUrl=function(url){'use strict';var loc={'href':url},parts=url.replace('//','/').split('/');loc.protocol=parts[0];loc.host=parts[1];parts[1]=parts[1].split(':');loc.hostname=parts[1][0];loc.port=parts[1].length>1?parts[1][1]:'';parts.splice(0,2);loc.pathname='/'+ parts.join('/');loc.pathname=loc.pathname.split('#');loc.hash=loc.pathname.length>1?'#'+ loc.pathname[1]:'';loc.pathname=loc.pathname[0];loc.pathname=loc.pathname.split('?');loc.search=loc.pathname.length>1?'?'+ loc.pathname[1]:'';loc.pathname=loc.pathname[0];return loc;};Fronter.Util.getFileExtension=function(filename){'use strict';var ext=filename.split('.').pop();if(ext===filename){return'';}
return ext;};Fronter.Util.hasLocalStorage=function(){'use strict';var mod='modernizr';try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}};Fronter.Util.isInNewWindow=function(){'use strict';try{return!top.isMainApplicationView&&top.opener&&top.opener.top.isMainApplicationView;}catch(e){return false;}};