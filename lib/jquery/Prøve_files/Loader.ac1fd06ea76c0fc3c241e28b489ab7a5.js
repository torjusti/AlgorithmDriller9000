var Fronter=Fronter||{};(function(){'use strict';var kernel,existingHandler,isFilesLoaded=false,onReadyCallbacks=[];function onReady(){var i;if(isFilesLoaded){for(i=0;i<onReadyCallbacks.length;i+=1){onReadyCallbacks[i].call(window);}}}
function getBrowser(){var N=navigator.appName,M,ua=navigator.userAgent,tem;M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(M&&(tem=ua.match(/version\/([\.\d]+)/i))!==null){M[2]=tem[1];}
M=M?[M[1],M[2]]:[N,navigator.appVersion,'-?'];return M;}
function setUpNamespace(n,o){var i;for(i in o){try{if(o.hasOwnProperty(i)){if(o[i]&&typeof o[i]==='object'&&!o[i].call){n[i]=kernel.Fronter.Util.create(o[i]);setUpNamespace(n[i],o[i]);}}}catch(error){console.warn('Loader.js: Error attaching Fronter properties to local iframe instance');console.warn(error);}}}
function loadScripts(urls,fn){var i,node,num=urls.length,browser=getBrowser();function onScriptLoad(){num-=1;if(typeof fn==='function'&&num===0){fn();}}
for(i=0;i<urls.length;i+=1){node=document.createElement('script');node.setAttribute('type','text/javascript');node.setAttribute('src',urls[i]);if(browser[0]==='MSIE'&&(browser[1]==='8.0'||browser[1]==='7.0')){node.onreadystatechange=onScriptLoad;}else{node.onload=onScriptLoad;}
document.getElementsByTagName('head')[0].appendChild(node);}}
if(window.top!==window||window.opener){if(window.opener){kernel=window.opener.top;}else{kernel=window.top;}
Fronter=kernel.Fronter.Util.create(kernel.Fronter);setUpNamespace(Fronter,kernel.Fronter);Fronter.namespace=function(name,separator,container){return kernel.Fronter.namespace(name,separator,container||window);};Fronter.Util.loadFile=function(type,urls,fn,container){return kernel.Fronter.Util.loadFile(type,urls,fn,container||window);};Fronter.Util.loadScript=function(urls,fn,container){return kernel.Fronter.Util.loadScript(urls,fn,container||window);};Fronter.Util.loadCss=function(urls,fn,container){return kernel.Fronter.Util.loadCss(urls,fn,container||window);};isFilesLoaded=true;onReady();}
Fronter.onReady=function(fn){onReadyCallbacks.push(fn);};window.onload=function(){Fronter.Event.on(Fronter.Event.Application.READY,onReady);};existingHandler=window.onbeforeunload;window.onbeforeunload=function loaderUnload(){if(typeof existingHandler==='function'&&existingHandler!==loaderUnload){existingHandler.call(window);}
Fronter.Event.off(Fronter.Event.Application.READY,onReady);};}());