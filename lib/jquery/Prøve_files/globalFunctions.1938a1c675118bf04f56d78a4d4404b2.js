function test_tool_tab_navigate(options){Fronter.View.ContentChangeInspector.check({test:'isOkToCloseContentFrame',options:options,ifOk:function(options){Fronter.View.ContentChangeInspector.removeDirtyFrame();document.actionform.qt_display_sub.value=options.displaySubId;document.actionform.qt_display.value=0;document.actionform.ispage.value=0;document.actionform.wpage.value=0;document.actionform.pageno.value=0;document.actionform.surveyid.value=options.firstTestId;document.actionform.qt_clear_question.value=1;if(options.action){set_action(options.action);}
if(options.preview){preview_test_ie_workaround();}}});}
function actionformSubmitOrRestoreValues(formElementList,callback){var previousValues={};jQuery.each(formElementList,function(index,key){previousValues[key]=document.actionform[key].value;});try{callback();}catch(e){jQuery.each(previousValues,function(key,val){document.actionform[key].value=val;});}}
function set_action(action){Fronter.View.ContentChangeInspector.check({test:'isOkToCloseContentFrame',options:{'action':action},ifOk:function(options){Fronter.View.ContentChangeInspector.removeDirtyFrame();actionformSubmitOrRestoreValues(["action","do_action"],function(){document.actionform.action.value=options.action;document.actionform.do_action.value='';document.actionform.submit();})}});}
function preview_test(){Fronter.View.ContentChangeInspector.check({test:'isOkToCloseContentFrame',ifOk:function(options){Fronter.View.ContentChangeInspector.removeDirtyFrame();actionformSubmitOrRestoreValues(["viewall","qid","action","do_action","test_section"],function(){document.actionform.viewall.value=1;document.actionform.qid.value='';if(typeof action!=='undefined'){document.actionform.action.value=action;}else{document.actionform.action.value='show_test';}
if(typeof test_section!=='undefined'){document.actionform.test_section.value=test_section;}else{document.actionform.test_section.value='preview';}
document.actionform.do_action.value='clear_current_reply';document.actionform.submit();})}});}
function preview_test_ie_workaround(){preview_test();}
var qt_status_field=new Array();function qt_fill_status_field(){var i,el;if(qt_status_field){qt_create_status_field();el=jQuery("#qt_status_field_content").get(0);for(i=0;i<qt_status_field.length;i++){if(qt_status_field[i]){el.innerHTML+="<br /><strong>"+ qt_status_field[i]+"</strong>";}
qt_status_field[i]=null;}}}
function qt_add_status_field(str){qt_create_status_field();var el=jQuery("#qt_status_field_content").get(0);el.innerHTML+=str;}
function qt_create_status_field(){var el=jQuery("#qt_status_field").get(0),eld=jQuery("#qt_status_field_div").get(0);if(eld.innerHTML==""){if(el.style.display=="none"){el.style.display="";}
str='<table style="width: 100%" cellspacing="0" cellpadding="0">';str+='<tr><td style="width: 20px;">';str+='<img src="'+ Fronter.Util.Config.get('customerUrl')+'/design_images/default/icons/infoicon.png"/> ';str+='</td>';str+='<td><div id="qt_status_field_content"></div></td>';str+='</tr></table>';eld.innerHTML=str;}}
function showPageList(id,setting){document.actionform.surveyid.value=id;document.actionform.ispage.value=0;document.actionform.viewall.value=0;document.actionform.action.value='show_test';document.actionform.test_section.value='list';document.actionform.do_action.value='clear_current_reply';document.actionform.wpage.value=setting;document.actionform.submit();return false;}