var eventSystemAvailable=function(){'use strict';try{return top.Fronter&&top.Fronter.Event;}catch(e){return false;}};Fronter.Event=eventSystemAvailable()?top.Fronter.Event:(function(){'use strict';var handlers={},events={};function subscribe(name,fn){var evnt=events[name];if(!handlers[name]){handlers[name]=[];}
handlers[name].push(fn);if(evnt&&evnt.once){fn.call(window,evnt.newVal,evnt.oldVal,name);}}
function unsubscribe(name,fn){var i,h;if(handlers[name]){h=handlers[name];for(i=0;i<h.length;i+=1){if(h[i]===fn){h.splice(i,1);}}}}
function callbackError(badCallback){if(window.console&&window.console.warn){console.warn('Callback '+ badCallback+' not a function');}}
function batch(fn,events){var callbacks;_(events).each(function(event){callbacks=event.callbacks||event.callback;if(_(callbacks).isFunction()){fn(event.event,callbacks);}else if(_(callbacks).isArray()){_(callbacks).each(function(callback){if(_(callback).isFunction()){fn(event.event,callback);}else{callbackError(callback);}});}else{callbackError(callbacks);}});}
function batchSubscribe(eventsObj){batch(subscribe,eventsObj);}
function batchUnsubscribe(eventsObj){batch(unsubscribe,eventsObj);}
function publish(name,value,once){var i,h,evnt;if(!name&&window.console&&window.console.warn){console.warn('The event is not available. Maybe it is not defined in Event.js');}
if(!events[name]){events[name]={};events[name].oldVal=undefined;events[name].once=once;}else{events[name].oldVal=events[name].newVal;}
events[name].newVal=value;if(handlers[name]){h=handlers[name];evnt=events[name];for(i=h.length- 1;i>=0;i-=1){try{h[i].call(window,evnt.newVal,evnt.oldVal,name);}catch(e){if(window.console&&console.log){console.log(i,'error firing '+ name,e);}
h.splice(i,1);}}}}
return{'on':subscribe,'off':unsubscribe,'subscribe':subscribe,'unsubscribe':unsubscribe,'fire':publish,'publish':publish,'batchSubscribe':batchSubscribe,'batchUnsubscribe':batchUnsubscribe,SOFT_ALERT:'softAlert',Application:{READY:'applicationReady',NAVIGATE:'applicationNavigate',NAVIGATED:'applicationNavigated',SEARCH:'applicationSearch',HELP:'applicationHelp',LOGOUT:'applicationLogout',SWITCHUSER:'applicationSwitchUser',Fullscreen:{TOGGLED:'applicationFullscreenToggled',TOGGLE:'applicationFullscreenToggle'}},Hotkeys:{KEYPRESS:'hotkeysKeyPress'},Module:{READY:'moduleReady'},Fim:{CONTACTS_AVAILABLE:'fimContactsAvailable',CONNECTED:'fimConnected',SHUTDOWN:'fimShutdown',PRIVATE_MESSAGE:'fimPrivateMessage',PRIVATE_OBJ_MESSAGE:'fimPrivateObjMessage'},Iframe:{CONTENT_LOADED:'iframeContentLoaded'},CustomDesign:{UPDATED:'customDesignUpdated'},PersonalFrame:{READY:'personalFrameReady',REFRESHED:'personalFrameRefreshed',Menu:{TOGGLE:'personalFrameMenuToggle'},Tabs:{READY:'personalFrameTabsReady'},Tab:{Close:{CLICK:'personalFrameTabCloseClick'},REMOVING:'personalFrameTabRemoving',CLOSED:'personalFrameTabClosed'}},ContentFrame:{LOADING:'contentFrameLoading',LOADED:'contentFrameLoaded',RELOADING:'contentFrameReloading',SELECTED:'contentFrameSelected',DESELECTED:'contentFrameDeselected',DESTROYED:'contentFrameDestroyed',REMOVED:'contentFrameRemoved',CLOSED:'contentFrameClosed',LOAD_ABORTED:'contentFrameLoadAborted',RESTORED:'contentFrameRestored'},Content:{Input:{CHANGED:'contentInputChanged',SUBMIT:'contentInputSubmit',CANCEL:'contentInputCancel'}},InternalLink:{CLICK:'internalLinkClick'},Overlay:{ADDED:'overlayAdd',REMOVED:'overlayRemove'},Java:{INSUFFICIENT:'javaInsufficientVersion'},Navbar:{MINIMISE:'navbarMinimise',MAXIMISE:'navbarMaximise',TOGGLE:'navbarToggle'},Project:{UPDATED:'projectUpdated'},Notify:{User:{BEFORE:'beforeNotifyUser',ON:'onNotifyUser',AFTER:'afterNotifyUser'},Dialog:{BUTTON_PRESSED:'dialogButtonPressed',ANSWER_CANCEL:'dialogAnswerCancel'}},Notifications:{LIST_OPEN:'listOpened',LIST_CLOSE:'listClosed',DOCUMENT_CLICK:'clickOutsideOfList'},Dialog:{BUTTON_PRESSED:'dialogButtonPressed',ANSWER_CANCEL:'dialogAnswerCancel'}};}());